{
  "version": 3,
  "sources": ["../../../../../../../../../node_modules/@clerk/nextjs/src/runtime/browser/safe-node-apis.js", "../../../../../../../../../node_modules/@clerk/nextjs/src/server/fs/utils.ts", "../../../../../../../../../node_modules/@clerk/nextjs/src/server/fs/middleware-location.ts"],
  "sourcesContent": ["/**\n * This file is used for conditional imports to mitigate bundling issues with Next.js server actions on version prior to 14.1.0.\n */\nconst fs = undefined;\nconst path = undefined;\nconst cwd = undefined;\n\nmodule.exports = { fs, path, cwd };\n", "/**\n * Attention: Only import this module when the node runtime is used.\n * We are using conditional imports to mitigate bundling issues with Next.js server actions on version prior to 14.1.0.\n */\n// @ts-ignore\nimport nodeRuntime from '#safe-node-apis';\n\nconst throwMissingFsModule = (module: string) => {\n  throw new Error(`Clerk: ${module} is missing. This is an internal error. Please contact Clerk's support.`);\n};\n\nconst nodeFsOrThrow = () => {\n  if (!nodeRuntime.fs) {\n    throwMissingFsModule('fs');\n  }\n  return nodeRuntime.fs;\n};\n\nconst nodePathOrThrow = () => {\n  if (!nodeRuntime.path) {\n    throwMissingFsModule('path');\n  }\n  return nodeRuntime.path;\n};\n\nconst nodeCwdOrThrow = () => {\n  if (!nodeRuntime.cwd) {\n    throwMissingFsModule('cwd');\n  }\n  return nodeRuntime.cwd;\n};\n\nexport { nodeCwdOrThrow, nodeFsOrThrow, nodePathOrThrow };\n", "import { nodeCwdOrThrow, nodeFsOrThrow, nodePathOrThrow } from './utils';\n\nfunction hasSrcAppDir() {\n  const { existsSync } = nodeFsOrThrow();\n  const path = nodePathOrThrow();\n  const cwd = nodeCwdOrThrow();\n\n  const projectWithAppSrc = path.join(cwd(), 'src', 'app');\n\n  return !!existsSync(projectWithAppSrc);\n}\n\nfunction suggestMiddlewareLocation() {\n  const fileExtensions = ['ts', 'js'] as const;\n  const suggestionMessage = (\n    extension: (typeof fileExtensions)[number],\n    to: 'src/' | '',\n    from: 'src/app/' | 'app/' | '',\n  ) =>\n    `Clerk: clerkMiddleware() was not run, your middleware file might be misplaced. Move your middleware file to ./${to}middleware.${extension}. Currently located at ./${from}middleware.${extension}`;\n\n  const { existsSync } = nodeFsOrThrow();\n  const path = nodePathOrThrow();\n  const cwd = nodeCwdOrThrow();\n\n  const projectWithAppSrcPath = path.join(cwd(), 'src', 'app');\n  const projectWithAppPath = path.join(cwd(), 'app');\n\n  const checkMiddlewareLocation = (\n    basePath: string,\n    to: 'src/' | '',\n    from: 'src/app/' | 'app/' | '',\n  ): string | undefined => {\n    for (const fileExtension of fileExtensions) {\n      if (existsSync(path.join(basePath, `middleware.${fileExtension}`))) {\n        return suggestionMessage(fileExtension, to, from);\n      }\n    }\n    return undefined;\n  };\n\n  if (existsSync(projectWithAppSrcPath)) {\n    return (\n      checkMiddlewareLocation(projectWithAppSrcPath, 'src/', 'src/app/') || checkMiddlewareLocation(cwd(), 'src/', '')\n    );\n  }\n\n  if (existsSync(projectWithAppPath)) {\n    return checkMiddlewareLocation(projectWithAppPath, '', 'app/');\n  }\n\n  return undefined;\n}\n\nexport { suggestMiddlewareLocation, hasSrcAppDir };\n"],
  "mappings": ";;;;;;AAAA,IAAA,yBAAA,WAAA;EAAA,wCAAA,SAAA,QAAA;AAGA,UAAM,KAAK;AACX,UAAM,OAAO;AACb,UAAM,MAAM;AAEZ,WAAO,UAAU,EAAE,IAAI,MAAM,IAAI;EAAA;AAAA,CAAA;;;;ACAjC,IAAM,uBAAuB,CAAC,WAAmB;AAC/C,QAAM,IAAI,MAAM,UAAU,MAAM,yEAAyE;AAC3G;AAEA,IAAM,gBAAgB,MAAM;AAC1B,MAAI,CAAC,uBAAY,IAAI;AACnB,yBAAqB,IAAI;EAC3B;AACA,SAAO,uBAAY;AACrB;AAEA,IAAM,kBAAkB,MAAM;AAC5B,MAAI,CAAC,uBAAY,MAAM;AACrB,yBAAqB,MAAM;EAC7B;AACA,SAAO,uBAAY;AACrB;AAEA,IAAM,iBAAiB,MAAM;AAC3B,MAAI,CAAC,uBAAY,KAAK;AACpB,yBAAqB,KAAK;EAC5B;AACA,SAAO,uBAAY;AACrB;;;AC5BA,SAAS,eAAe;AACtB,QAAM,EAAE,WAAW,IAAI,cAAc;AACrC,QAAM,OAAO,gBAAgB;AAC7B,QAAM,MAAM,eAAe;AAE3B,QAAM,oBAAoB,KAAK,KAAK,IAAI,GAAG,OAAO,KAAK;AAEvD,SAAO,CAAC,CAAC,WAAW,iBAAiB;AACvC;AAEA,SAAS,4BAA4B;AACnC,QAAM,iBAAiB,CAAC,MAAM,IAAI;AAClC,QAAM,oBAAoB,CACxB,WACA,IACA,SAEA,iHAAiH,EAAE,cAAc,SAAS,4BAA4B,IAAI,cAAc,SAAS;AAEnM,QAAM,EAAE,WAAW,IAAI,cAAc;AACrC,QAAM,OAAO,gBAAgB;AAC7B,QAAM,MAAM,eAAe;AAE3B,QAAM,wBAAwB,KAAK,KAAK,IAAI,GAAG,OAAO,KAAK;AAC3D,QAAM,qBAAqB,KAAK,KAAK,IAAI,GAAG,KAAK;AAEjD,QAAM,0BAA0B,CAC9B,UACA,IACA,SACuB;AACvB,eAAW,iBAAiB,gBAAgB;AAC1C,UAAI,WAAW,KAAK,KAAK,UAAU,cAAc,aAAa,EAAE,CAAC,GAAG;AAClE,eAAO,kBAAkB,eAAe,IAAI,IAAI;MAClD;IACF;AACA,WAAO;EACT;AAEA,MAAI,WAAW,qBAAqB,GAAG;AACrC,WACE,wBAAwB,uBAAuB,QAAQ,UAAU,KAAK,wBAAwB,IAAI,GAAG,QAAQ,EAAE;EAEnH;AAEA,MAAI,WAAW,kBAAkB,GAAG;AAClC,WAAO,wBAAwB,oBAAoB,IAAI,MAAM;EAC/D;AAEA,SAAO;AACT;",
  "names": []
}
